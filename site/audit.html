<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Moltbook Observatory - Metodología y Auditoría</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@500;600;700&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  </head>
  <body class="audit">
    <div class="grain"></div>
    <nav class="nav">
      <div class="brand">
        <span class="brand-mark">◎</span>
        <span>Observatory - Auditoría técnica</span>
      </div>
      <div class="nav-links nav-actions">
        <details class="nav-menu">
          <summary>Secciones</summary>
          <div class="nav-menu-panel">
            <div class="nav-menu-group">
              <div class="nav-menu-title">Marco</div>
              <a href="#metodología">Metodología</a>
              <a href="#audit-gates">Gates y estado</a>
            </div>
            <div class="nav-menu-group">
              <div class="nav-menu-title">Auditoría</div>
              <a href="#audit-contract">Contrato de métricas</a>
              <a href="#audit-filters">Filtros activos</a>
              <a href="#audit-traceability">Trazabilidad</a>
              <a href="#audit-coherence">Coherencia</a>
            </div>
            <div class="nav-menu-group">
              <div class="nav-menu-title">Reproducibilidad</div>
              <a href="#audit-sources">Fuentes y scripts</a>
            </div>
          </div>
        </details>
        <div class="mode-switch" aria-label="Modo de vista">
          <a class="mode-chip" href="index.html">Observatorio</a>
          <a class="mode-chip" href="analysis.html">Exploración</a>
          <a class="mode-chip active" href="audit.html">Auditoría</a>
          <a class="mode-chip" href="about.html">About</a>
        </div>
      </div>
    </nav>

    <header class="hero">
      <div class="hero-inner">
        <div class="pill">Capa 3 · Metodología y Auditoría</div>
        <h1>Validación técnica para inferencia responsable</h1>
        <p>
          Esta capa conecta método con problema cultural: define qué mide cada métrica en una red IA-only,
          qué no puede inferirse y cómo reproducir la evidencia sin ambigüedad.
        </p>
      </div>
    </header>

    <main>
      <section id="metodología" class="section">
        <div class="section-head">
          <h2>Metodología formal</h2>
          <p>Pipeline reproducible de ingesta a derivados, con criterios explícitos para evaluar mecanismos culturales y no solo outputs técnicos.</p>
        </div>
        <div class="timeline">
          <div class="timeline-step">
            <span>01</span>
            <div>
              <h4>Ingesta</h4>
              <p>Captura de posts/comentarios bajo robots y ToS, con run_id y timestamps.</p>
            </div>
          </div>
          <div class="timeline-step">
            <span>02</span>
            <div>
              <h4>Normalización</h4>
              <p>Limpieza de campos, resolución de IDs, control de duplicados y rangos temporales.</p>
            </div>
          </div>
          <div class="timeline-step">
            <span>03</span>
            <div>
              <h4>Derivados</h4>
              <p>Memética, ontología, redes, transmisión y controles de calidad en `data/derived`, con trazas para contrastar hipótesis.</p>
            </div>
          </div>
          <div class="timeline-step">
            <span>04</span>
            <div>
              <h4>Publicación</h4>
              <p>Separación por capas: Observatorio (público), Exploración (laboratorio), Auditoría (técnica).</p>
            </div>
          </div>
        </div>
        <div class="callout" style="margin-top: 12px;">
          Regla de lectura auditada: una métrica vale solo si declara su límite inferencial. En este proyecto no se infiere conducta humana directa desde interacción en plataforma.
        </div>
      </section>

      <section id="audit-gates" class="section">
        <div class="section-head">
          <h2>Estado de gates</h2>
          <p>Resumen de estado actual de auditoría y reportes versionados para sostener revisión externa.</p>
        </div>
        <div class="card-grid">
          <div class="card">
            <div class="card-label">Resumen público</div>
            <p><a href="../reports/audit/public_summary.md">reports/audit/public_summary.md</a></p>
          </div>
          <div class="card">
            <div class="card-label">Auditoría integral</div>
            <p><a href="../reports/audit/audit_report.md">reports/audit/audit_report.md</a></p>
          </div>
          <div class="card">
            <div class="card-label">Matriz claim-evidencia</div>
            <p><a href="../reports/audit/claim_matrix.csv">reports/audit/claim_matrix.csv</a></p>
          </div>
          <div class="card">
            <div class="card-label">Lineage</div>
            <p><a href="../reports/audit/data_lineage.csv">reports/audit/data_lineage.csv</a></p>
          </div>
        </div>
      </section>

      <section id="audit-contract" class="section">
        <div class="section-head">
          <h2>Contrato de métricas</h2>
          <p>Definición formal por módulo: fuente, transformación, eje temporal y pregunta cultural que habilita responder.</p>
        </div>
        <div class="table-card">
          <div class="table-scroll">
            <table id="analysis-metric-contract-table">
              <thead>
                <tr>
                  <th>Módulo</th>
                  <th>Métrica</th>
                  <th>Fuente</th>
                  <th>Transformación y filtro</th>
                  <th>Eje temporal</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="audit-filters" class="section">
        <div class="section-head">
          <h2>Filtros activos (runtime)</h2>
          <p>Filtros que alteran ranking o lectura y que deben explicitarse para auditoría.</p>
        </div>
        <div class="table-card">
          <div class="table-scroll">
            <table id="analysis-active-filters-table">
              <thead>
                <tr>
                  <th>Módulo</th>
                  <th>Filtro</th>
                  <th>Estado</th>
                  <th>Impacto</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="audit-traceability" class="section">
        <div class="section-head">
          <h2>Trazabilidad del snapshot</h2>
          <p>Cobertura temporal, volumen y políticas de muestra activas para el snapshot publicado, incluyendo trazas de prompting cuando existan en derivados.</p>
        </div>
        <div class="table-card">
          <div class="table-scroll">
            <table id="analysis-traceability-table">
              <thead>
                <tr>
                  <th>Item</th>
                  <th>Valor</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="audit-coherence" class="section">
        <div class="section-head">
          <h2>Chequeo de coherencia</h2>
          <p>Validaciones de consistencia entre transformaciones, filtros, hipótesis de Capa 2 y narrativas públicas de Capa 1.</p>
        </div>
        <div class="table-card">
          <div class="table-scroll">
            <table id="analysis-coherence-table">
              <thead>
                <tr>
                  <th>Chequeo</th>
                  <th>Estado</th>
                  <th>Detalle</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="audit-sources" class="section">
        <div class="section-head">
          <h2>Fuentes, scripts y salidas</h2>
          <p>Rutas clave para reproducir, inspeccionar y validar el observatorio.</p>
        </div>
        <div class="download-grid">
          <a class="download" href="../reports/analysis_schema.md">reports/analysis_schema.md</a>
          <a class="download" href="../reports/audit/quality_gates.yaml">reports/audit/quality_gates.yaml</a>
          <a class="download" href="../reports/audit/evidence_index.json">reports/audit/evidence_index.json</a>
          <a class="download" href="../reports/audit/ontology_labeling_protocol.md">reports/audit/ontology_labeling_protocol.md</a>
          <a class="download" href="../scripts/derive_signals.py">scripts/derive_signals.py</a>
          <a class="download" href="../scripts/meme_models.py">scripts/meme_models.py</a>
          <a class="download" href="../scripts/quant_sociology.py">scripts/quant_sociology.py</a>
          <a class="download" href="../scripts/diffusion_metrics.py">scripts/diffusion_metrics.py</a>
          <a class="download" href="../scripts/check_ui_coherence.js">scripts/check_ui_coherence.js</a>
          <a class="download" href="analysis.html#downloads">Catálogo de derivados (UI)</a>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div>Auditoría técnica para reproducibilidad y validación externa.</div>
      <div class="footer-links">
        <a href="mailto:salvatierra.pablom@gmail.com">salvatierra.pablom@gmail.com</a>
        <a href="https://github.com/SalvatierraPM" target="_blank" rel="noreferrer">GitHub</a>
      </div>
    </footer>

    <script src="analytics-core.js"></script>
    <script src="nav.js"></script>
    <script src="analysis.js"></script>
  </body>
</html>
